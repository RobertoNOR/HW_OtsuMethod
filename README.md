# Алгоритм метода Оцу

## Описание

Метод Оцу — это метод для автоматической бинаризации изображений. Он работает путем выбора порога, который минимизирует внутриклассовую дисперсию, что позволяет эффективно отделять объекты от фона в изображении.

## Алгоритм

Его работа включает несколько шагов:

1. **Вычисление гистограммы яркости**: Сначала алгоритм анализирует изображение и вычисляет гистограмму яркости, которая показывает распределение интенсивности пикселей по всем уровням яркости.

2. **Нормализация гистограммы**: Затем гистограмма нормализуется, чтобы получить вероятность каждого уровня яркости. Это позволяет оценить, насколько часто каждый уровень яркости встречается в изображении.

3. **Вероятности классов**: Для каждого возможного порога определяется вероятность фонового класса (темные пиксели) и класса объектов (светлые пиксели). Эти вероятности помогают в дальнейшем делении пикселей на два класса.

4. **Средние яркости классов**: Алгоритм вычисляет средние значения яркости для каждого из классов. Это делается для оценки, насколько хорошо выбранный порог разделяет два класса.

5. **Общая средняя яркость**: Затем вычисляется общая средняя яркость всего изображения, которая используется для оценки качества порога.

6. **Межклассовая дисперсия**: На основе вероятностей и средних значений классов вычисляется межклассовая дисперсия, которая служит критерием для оценки качества разделения классов.

7. **Поиск оптимального порога**: Алгоритм находит оптимальный порог, который максимизирует межклассовую дисперсию. Этот порог будет использоваться для бинаризации изображения.

8. **Бинаризация изображения**: Наконец, с использованием найденного порога изображение преобразуется в бинарное, где пиксели либо становятся черными, либо белыми в зависимости от их интенсивности.


## Применение

- **Улучшение контрастности изображений:** Используется для автоматической бинаризации изображений, что может улучшить видимость объектов.
- **Обработка изображений в медицине:** Применяется для выделения областей интереса, например, опухолей на медицинских снимках.
- **Компьютерное зрение:** Используется для распознавания объектов и анализа сцен.

## Тесты

Для проверки корректности работы алгоритма метода Отсу были написаны тесты с использованием библиотеки `unittest`. Тесты охватывают различные случаи, включая:

1. **Тест на пустое изображение**: Проверяется, что алгоритм правильно обрабатывает черное изображение, возвращая все пиксели с нулевым значением.

2. **Тест на изображение с четким контрастом**: Алгоритм должен успешно разделить пиксели на два класса при наличии яркого контраста.

3. **Тест на изображение с шумом**: Оценивается, как алгоритм справляется с изображением, содержащим случайные пиксели различной яркости.

4. **Тест на маленькое изображение**: Проверяется работа алгоритма на маломасштабном изображении, чтобы убедиться в его универсальности.

5. **Тест на градиентное изображение**: Тестируется способность алгоритма обрабатывать изображения с плавными переходами между яркостями.

6. **Тест на яркие цветные полосы**: Проверяется, как алгоритм справляется с изображением, содержащим полосы разных цветов.

7. **Тест на яркие цветные квадраты**: Оценивается, как алгоритм работает с изображением, содержащим яркие цветные квадраты.

8. **Тест на изображение с чередующимися черными и белыми пикселями**: Проверяется корректность бинаризации при чередовании черных и белых пикселей.

9. **Тест на размытое изображение**: Оценивается работа алгоритма на изображении с размытыми пикселями.

10. **Тест на большое изображение**: Проверяется производительность и корректность алгоритма на большом изображении, состоящем из одноцветных пикселей.

Все тесты созданы для того, чтобы убедиться в корректности работы метода Отсу при различных условиях и обеспечивают надежность алгоритма при его использовании в реальных задачах обработки изображений.

## Инструкции по запуску
- **Запуск алгоритма:**
    python Script/solution_otsu.py
- **Запуск тестов:** python -m unittest Test/test_solution.py

